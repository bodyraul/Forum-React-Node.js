{"ast":null,"code":"import _slicedToArray from\"C:/Users/aurel/OneDrive/Bureau/projetfinal2/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import axios from'axios';import{useEffect}from'react';import{useContext}from'react';import{AuthContext}from\"../../Context/AuthContext\";import{useState}from'react';import{useNavigate}from'react-router-dom';import\"./admin.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignalementMessage(){var _useContext=useContext(AuthContext),token=_useContext.token,settoken=_useContext.settoken;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allSignalMsg=_useState2[0],setallSignalMsg=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),errorMsg=_useState4[0],seterrorMsg=_useState4[1];var navigate=useNavigate();useEffect(function(){var config={headers:{Authorization:\"Bearer \".concat(token)}};axios.get(\"/signalement/afficherMsgSignaler\",config).then(function(res){setallSignalMsg(res.data);}).catch(function(err){return seterrorMsg(err.response.data);});},[]);var redirectPageDetail=function redirectPageDetail(e){navigate(\"/admin/signalementMessage/details/\".concat(e));};if(allSignalMsg.length!=0){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"intitulelisteSignalementsPageAdmin\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Pseudo \"}),/*#__PURE__*/_jsx(\"span\",{children:\"Nom  \"}),/*#__PURE__*/_jsx(\"span\",{children:\"Pr\\xE9nom  \"}),/*#__PURE__*/_jsx(\"span\",{children:\"Contenu\"}),/*#__PURE__*/_jsx(\"span\",{})]}),allSignalMsg.map(function(element){return/*#__PURE__*/_jsxs(\"p\",{className:\"listeSignalementsPageAdmin\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[element.pseudoCreateurMessage,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"spanNomContenu\",children:[\" \",element.nomCreateurMessage,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",element.prenomCreateurMessage,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"spanPrenomContenu\",children:[element.contenu,\" \"]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return redirectPageDetail(element._id);},children:\"detail signalement\"})]},element._id);})]});}if(allSignalMsg.length===0)return/*#__PURE__*/_jsx(\"p\",{className:\"messageNonAdmin\",children:errorMsg});}","map":{"version":3,"names":["React","axios","useEffect","useContext","AuthContext","useState","useNavigate","SignalementMessage","token","settoken","allSignalMsg","setallSignalMsg","errorMsg","seterrorMsg","navigate","config","headers","Authorization","get","then","res","data","catch","err","response","redirectPageDetail","e","length","map","element","pseudoCreateurMessage","nomCreateurMessage","prenomCreateurMessage","contenu","_id"],"sources":["C:/Users/aurel/OneDrive/Bureau/projetfinal2/client/src/pages/Admin/SignalementMessage.jsx"],"sourcesContent":["import React from 'react'\r\nimport axios from 'axios'\r\nimport { useEffect } from 'react'\r\nimport { useContext } from 'react';\r\nimport {AuthContext} from \"../../Context/AuthContext\";\r\nimport { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport\"./admin.css\"\r\n\r\nexport default function SignalementMessage() {\r\n  const {token,settoken}  = useContext(AuthContext);\r\n  const [allSignalMsg, setallSignalMsg] = useState([]);\r\n  const [errorMsg, seterrorMsg] = useState(\"\");\r\n\r\n  const navigate = useNavigate();\r\n  \r\n  useEffect( () => {\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    axios.get(\"/signalement/afficherMsgSignaler\",config)\r\n    .then((res)=>{setallSignalMsg(res.data);\r\n      \r\n    })\r\n    .catch((err)=>seterrorMsg(err.response.data))\r\n\r\n  }, [])\r\n\r\n  const redirectPageDetail = (e)=>{\r\n    navigate(`/admin/signalementMessage/details/${e}`);\r\n  }\r\n\r\n\r\n  if(allSignalMsg.length!=0){\r\n    return (\r\n      <div>\r\n        <p className='intitulelisteSignalementsPageAdmin'>\r\n          <span>Pseudo </span>\r\n          <span>Nom  </span>\r\n          <span>Pr√©nom  </span>\r\n          <span>Contenu</span>\r\n          <span></span>\r\n        </p>\r\n        {allSignalMsg.map((element)=>{\r\n          return(\r\n         \r\n              <p className='listeSignalementsPageAdmin' key={element._id}>\r\n                <span>{element.pseudoCreateurMessage} </span>\r\n                <span className='spanNomContenu'> {element.nomCreateurMessage } </span>\r\n                <span> {element.prenomCreateurMessage} </span>\r\n                <span className='spanPrenomContenu'>{element.contenu} </span>\r\n                <button onClick={()=>redirectPageDetail(element._id)}>detail signalement</button>\r\n                \r\n            </p>\r\n     \r\n          )\r\n    \r\n      })}\r\n      </div>\r\n    )\r\n  }\r\n  if(allSignalMsg.length===0)\r\n  return (\r\n    <p className='messageNonAdmin'>{errorMsg}</p>\r\n  )\r\n}\r\n"],"mappings":"wIAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,UAAU,KAAQ,OAAO,CAClC,OAAQC,WAAW,KAAO,2BAA2B,CACrD,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAM,aAAa,yFAEnB,cAAe,SAASC,mBAAkB,EAAG,CAC3C,gBAA0BJ,UAAU,CAACC,WAAW,CAAC,CAA1CI,KAAK,aAALA,KAAK,CAACC,QAAQ,aAARA,QAAQ,CACrB,cAAwCJ,QAAQ,CAAC,EAAE,CAAC,wCAA7CK,YAAY,eAAEC,eAAe,eACpC,eAAgCN,QAAQ,CAAC,EAAE,CAAC,yCAArCO,QAAQ,eAAEC,WAAW,eAE5B,GAAMC,SAAQ,CAAGR,WAAW,EAAE,CAE9BJ,SAAS,CAAE,UAAM,CAEf,GAAMa,OAAM,CAAG,CACbC,OAAO,CAAE,CACPC,aAAa,kBAAYT,KAAK,CAChC,CACF,CAAC,CAEDP,KAAK,CAACiB,GAAG,CAAC,kCAAkC,CAACH,MAAM,CAAC,CACnDI,IAAI,CAAC,SAACC,GAAG,CAAG,CAACT,eAAe,CAACS,GAAG,CAACC,IAAI,CAAC,CAEvC,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,GAAG,QAAGV,YAAW,CAACU,GAAG,CAACC,QAAQ,CAACH,IAAI,CAAC,GAAC,CAE/C,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMI,mBAAkB,CAAG,QAArBA,mBAAkB,CAAIC,CAAC,CAAG,CAC9BZ,QAAQ,6CAAsCY,CAAC,EAAG,CACpD,CAAC,CAGD,GAAGhB,YAAY,CAACiB,MAAM,EAAE,CAAC,CAAC,CACxB,mBACE,oCACE,WAAG,SAAS,CAAC,oCAAoC,wBAC/C,iCAAoB,cACpB,+BAAkB,cAClB,qCAAqB,cACrB,iCAAoB,cACpB,eAAa,GACX,CACHjB,YAAY,CAACkB,GAAG,CAAC,SAACC,OAAO,CAAG,CAC3B,mBAEI,WAAG,SAAS,CAAC,4BAA4B,wBACvC,wBAAOA,OAAO,CAACC,qBAAqB,OAAS,cAC7C,cAAM,SAAS,CAAC,gBAAgB,eAAGD,OAAO,CAACE,kBAAkB,OAAU,cACvE,4BAAQF,OAAO,CAACG,qBAAqB,OAAS,cAC9C,cAAM,SAAS,CAAC,mBAAmB,WAAEH,OAAO,CAACI,OAAO,OAAS,cAC7D,eAAQ,OAAO,CAAE,yBAAIR,mBAAkB,CAACI,OAAO,CAACK,GAAG,CAAC,EAAC,gCAA4B,GALpCL,OAAO,CAACK,GAAG,CAOxD,CAIV,CAAC,CAAC,GACI,CAEV,CACA,GAAGxB,YAAY,CAACiB,MAAM,GAAG,CAAC,CAC1B,mBACE,UAAG,SAAS,CAAC,iBAAiB,UAAEf,QAAQ,EAAK,CAEjD"},"metadata":{},"sourceType":"module"}