{"ast":null,"code":"import _slicedToArray from\"C:/Users/aurel/OneDrive/Bureau/projetfinal2/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState}from'react';import axios from'axios';import{useNavigate}from\"react-router-dom\";import Contact from\"../contact/Contact\";import\"./inscription.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Inscription(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),nom=_useState2[0],setnom=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),prenom=_useState4[0],setprenom=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),pseudonyme=_useState6[0],setpseudonyme=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setemail=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),password=_useState10[0],setpassword=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),confirmPassword=_useState12[0],setconfirmPassword=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),errorMsg=_useState14[0],seterrorMsg=_useState14[1];var navigate=useNavigate();var validerForm=function validerForm(e){e.preventDefault();var notNombre=new RegExp(\"^[^0-9]+$\");var mailRegex=new RegExp(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);if(nom.length===0){return seterrorMsg(\"le nom ne peut pas être vide.\");}if(!notNombre.test(nom)){return seterrorMsg(\"le nom ne peut pas contenir de chiffre.\");}if(prenom.length===0){return seterrorMsg(\"le prénom ne peut pas être vide.\");}if(!notNombre.test(prenom)){return seterrorMsg(\"le prénom ne peut pas contenir de chiffre.\");}if(pseudonyme.length===0){return seterrorMsg(\"le pseudonyme ne peut pas être vide.\");}if(pseudonyme.length>15){return seterrorMsg(\"le pseudonyme ne peut contenir plus de 15 caractères.\");}if(email.length===0){return seterrorMsg(\"l'email ne peut pas être vide.\");}if(!mailRegex.test(email)){return seterrorMsg(\"Cela ne correspond pas à un email.\");}if(password.length===0){return seterrorMsg(\"Le mot de passe ne peut pas être vide\");}if(confirmPassword!=password){return seterrorMsg(\"Les deux mots de passe sont différents.\");}var user={nom:nom,prenom:prenom,pseudonyme:pseudonyme,email:email,password:password};axios.post(\"/user/register\",user).then(function(res){return navigate(\"/connexion\");}).catch(function(err){return seterrorMsg(err.response.data);});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"formulaireInscription\",onSubmit:validerForm,children:[/*#__PURE__*/_jsx(\"div\",{className:\"titreFormInscription\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Formulaire d'inscription\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"traitInscription\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"saisiFormInscrition\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"labelNomPrenom\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Nom\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Pr\\xE9nom\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"partieInputNomPrenom\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:nom,onChange:function onChange(e){setnom(e.target.value);seterrorMsg(\"\");}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:prenom,onChange:function onChange(e){setprenom(e.target.value);seterrorMsg(\"\");}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"labelPseudoMail\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Pseudonyme\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"adresse email\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"partieInputPseudoMail\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:pseudonyme,onChange:function onChange(e){setpseudonyme(e.target.value);seterrorMsg(\"\");}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:email,onChange:function onChange(e){setemail(e.target.value);seterrorMsg(\"\");}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"labelMdp\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Mot de passe\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"partieInputMdp\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:function onChange(e){setpassword(e.target.value);seterrorMsg(\"\");}})}),/*#__PURE__*/_jsx(\"div\",{className:\"labelConfirmMdp\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Confirmer mot de passe\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"partieInputMdp\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:confirmPassword,onChange:function onChange(e){setconfirmPassword(e.target.value);seterrorMsg(\"\");}})}),/*#__PURE__*/_jsx(\"div\",{className:\"partieMsgErreur\",children:/*#__PURE__*/_jsx(\"p\",{children:errorMsg})}),/*#__PURE__*/_jsx(\"div\",{className:\"partieBoutton\",children:/*#__PURE__*/_jsx(\"button\",{children:\"valider\"})})]})]})});}","map":{"version":3,"names":["React","useState","axios","useNavigate","Contact","Inscription","nom","setnom","prenom","setprenom","pseudonyme","setpseudonyme","email","setemail","password","setpassword","confirmPassword","setconfirmPassword","errorMsg","seterrorMsg","navigate","validerForm","e","preventDefault","notNombre","RegExp","mailRegex","length","test","user","post","then","res","catch","err","response","data","target","value"],"sources":["C:/Users/aurel/OneDrive/Bureau/projetfinal2/client/src/pages/Inscription/Inscription.jsx"],"sourcesContent":["import React from 'react'\r\nimport { useState } from 'react'\r\nimport axios from 'axios';\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport Contact from\"../contact/Contact\"\r\nimport \"./inscription.css\"\r\n\r\nexport default function Inscription() {\r\n  const [nom, setnom] = useState(\"\");\r\n  const [prenom, setprenom] = useState(\"\");\r\n  const [pseudonyme, setpseudonyme] = useState(\"\");\r\n  const [email, setemail] = useState(\"\");\r\n  const [password, setpassword] = useState(\"\");\r\n  const [confirmPassword, setconfirmPassword] = useState(\"\");\r\n  const [errorMsg, seterrorMsg] = useState(\"\");\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const validerForm = (e)=>{\r\n    e.preventDefault();\r\n    const notNombre = new RegExp(\"^[^0-9]+$\");\r\n    const mailRegex = new RegExp(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/)\r\n    if(nom.length===0){\r\n      return seterrorMsg(\"le nom ne peut pas être vide.\");\r\n    }\r\n    if(!notNombre.test(nom)){\r\n      return seterrorMsg(\"le nom ne peut pas contenir de chiffre.\");\r\n    }\r\n    if(prenom.length===0){\r\n      return seterrorMsg(\"le prénom ne peut pas être vide.\");\r\n    }\r\n    if(!notNombre.test(prenom)){\r\n      return seterrorMsg(\"le prénom ne peut pas contenir de chiffre.\");\r\n    }\r\n    if(pseudonyme.length===0){\r\n      return seterrorMsg(\"le pseudonyme ne peut pas être vide.\");\r\n    }\r\n    if(pseudonyme.length>15){\r\n      return seterrorMsg(\"le pseudonyme ne peut contenir plus de 15 caractères.\");\r\n    }\r\n    if(email.length===0){\r\n      return seterrorMsg(\"l'email ne peut pas être vide.\");\r\n    }\r\n    if(!mailRegex.test(email)){\r\n      return seterrorMsg(\"Cela ne correspond pas à un email.\");\r\n    }\r\n    if(password.length===0){\r\n      return seterrorMsg(\"Le mot de passe ne peut pas être vide\");\r\n    }\r\n    if(confirmPassword!=password){\r\n      return seterrorMsg(\"Les deux mots de passe sont différents.\");\r\n    }\r\n\r\n    const user ={nom,prenom,pseudonyme,email,password};\r\n    axios.post(\"/user/register\",user)\r\n    .then((res)=>navigate(\"/connexion\"))\r\n    .catch((err)=>seterrorMsg(err.response.data));\r\n    \r\n  }\r\n\r\n  return (\r\n    <div>\r\n        <form className='formulaireInscription' onSubmit={validerForm}>\r\n          <div className='titreFormInscription'>\r\n              <p>Formulaire d'inscription</p>            \r\n          </div>\r\n          <p className='traitInscription'></p>\r\n          <div className='saisiFormInscrition'>\r\n              <div className='labelNomPrenom'>\r\n                  <p>Nom \r\n                    <span>*</span>\r\n                  </p>\r\n                  <p>Prénom \r\n                    <span>*</span>\r\n                  </p>\r\n              </div>\r\n              <div className='partieInputNomPrenom'>\r\n                <input type=\"text\"  value={nom} onChange={(e)=>{setnom(e.target.value);seterrorMsg(\"\")}}></input>\r\n                <input type=\"text\"   value={prenom} onChange={(e)=>{setprenom(e.target.value);seterrorMsg(\"\")}}></input>\r\n              </div>\r\n              <div className='labelPseudoMail'>\r\n                  <p>Pseudonyme \r\n                    <span>*</span>\r\n                  </p>\r\n                  <p>adresse email \r\n                    <span>*</span>\r\n                  </p>\r\n              </div>\r\n              <div className='partieInputPseudoMail'>\r\n                <input  type=\"text\"   value={pseudonyme} onChange={(e)=>{setpseudonyme(e.target.value);seterrorMsg(\"\")}}></input>\r\n                <input  type=\"text\"  value={email} onChange={(e)=>{setemail(e.target.value);seterrorMsg(\"\")}}></input>\r\n              </div>\r\n              <div className='labelMdp'>\r\n                 <p>Mot de passe \r\n                    <span>*</span>\r\n                  </p>\r\n              </div>\r\n              <div className='partieInputMdp'>\r\n                 <input  type=\"password\"  value={password} onChange={(e)=>{setpassword(e.target.value);seterrorMsg(\"\")}}></input>\r\n              </div>\r\n              <div className='labelConfirmMdp'>\r\n                 <p>Confirmer mot de passe\r\n                    <span>*</span>\r\n                  </p>\r\n              </div>\r\n              <div className='partieInputMdp'>\r\n                 <input  type=\"password\" value={confirmPassword} onChange={(e)=>{setconfirmPassword(e.target.value);seterrorMsg(\"\")}}></input>\r\n              </div>\r\n              <div className='partieMsgErreur'>\r\n                 <p>\r\n                    {errorMsg}\r\n                 </p>\r\n              </div>\r\n              <div className='partieBoutton'>\r\n                 <button>valider</button>\r\n              </div>\r\n          </div>\r\n\r\n            \r\n      \r\n        </form>\r\n   \r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}