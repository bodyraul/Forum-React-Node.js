{"ast":null,"code":"import _slicedToArray from\"C:/Users/aurel/OneDrive/Bureau/allProjet/projetfinal2/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import axios from'axios';import{useEffect}from'react';import{useContext}from'react';import{AuthContext}from\"../../Context/AuthContext\";import{useState}from'react';import{useNavigate}from'react-router-dom';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function SignalementPost(){var _useContext=useContext(AuthContext),token=_useContext.token,settoken=_useContext.settoken;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allSignalPost=_useState2[0],setallSignalPost=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),errorMsg=_useState4[0],seterrorMsg=_useState4[1];var navigate=useNavigate();useEffect(function(){var config={headers:{Authorization:\"Bearer \".concat(token)}};axios.get(\"/signalement/afficherPostSignaler\",config).then(function(res){setallSignalPost(res.data);console.log(res);}).catch(function(err){return seterrorMsg(err.response.data);});},[]);var redirectPageDetail=function redirectPageDetail(e){navigate(\"/admin/signalementPost/details/\".concat(e));};if(allSignalPost.length!=0){return allSignalPost.map(function(element){return/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"pseudo : \",element.pseudoCreateur,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"nom : \",element.nomCreateur,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"prenom : \",element.prenomCreateur,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"titre : \",element.titre,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"description : \",element.description,\" \"]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return redirectPageDetail(element._id);},children:\"detail signalement\"})]},element._id);});}if(allSignalPost.length===0)return/*#__PURE__*/_jsx(\"p\",{className:\"messageNonAdmin\",children:errorMsg});}","map":{"version":3,"names":["React","axios","useEffect","useContext","AuthContext","useState","useNavigate","SignalementPost","token","settoken","allSignalPost","setallSignalPost","errorMsg","seterrorMsg","navigate","config","headers","Authorization","get","then","res","data","console","log","catch","err","response","redirectPageDetail","e","length","map","element","pseudoCreateur","nomCreateur","prenomCreateur","titre","description","_id"],"sources":["C:/Users/aurel/OneDrive/Bureau/allProjet/projetfinal2/client/src/pages/Admin/SignalementPost.jsx"],"sourcesContent":["  import React from 'react'\r\n  import axios from 'axios'\r\n  import { useEffect } from 'react'\r\n  import { useContext } from 'react';\r\n  import {AuthContext} from \"../../Context/AuthContext\";\r\n  import { useState } from 'react';\r\n  import { useNavigate } from 'react-router-dom';\r\n  \r\n  export default function SignalementPost() {\r\n    const {token,settoken}  = useContext(AuthContext);\r\n    const [allSignalPost, setallSignalPost] = useState([]);\r\n    const [errorMsg, seterrorMsg] = useState(\"\");\r\n  \r\n    const navigate = useNavigate();\r\n    \r\n    useEffect( () => {\r\n  \r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      };\r\n  \r\n      axios.get(\"/signalement/afficherPostSignaler\",config)\r\n      .then((res)=>{setallSignalPost(res.data);\r\n        console.log(res);\r\n      })\r\n      .catch((err)=>seterrorMsg(err.response.data))\r\n  \r\n    }, [])\r\n  \r\n    \r\n    \r\n    const redirectPageDetail = (e)=>{\r\n      navigate(`/admin/signalementPost/details/${e}`);\r\n    }\r\n  \r\n    if(allSignalPost.length!=0){\r\n      return (\r\n        allSignalPost.map((element)=>{\r\n          return(\r\n            <p key={element._id}>\r\n                <span>pseudo : {element.pseudoCreateur} </span>\r\n                <span>nom : {element.nomCreateur } </span>\r\n                <span>prenom : {element.prenomCreateur} </span>\r\n                <span>titre : {element.titre} </span>\r\n                <span>description : {element.description} </span>\r\n                <button onClick={()=>redirectPageDetail(element._id)}>detail signalement</button>\r\n               \r\n            </p>\r\n          )\r\n          \r\n        })\r\n      )\r\n    }\r\n    if(allSignalPost.length===0)\r\n    return (\r\n      <p className='messageNonAdmin'>{errorMsg}</p>\r\n    )\r\n  }\r\n"],"mappings":"kJAAE,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,UAAU,KAAQ,OAAO,CAClC,OAAQC,WAAW,KAAO,2BAA2B,CACrD,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,WAAW,KAAQ,kBAAkB,CAAC,wFAE/C,cAAe,SAASC,gBAAe,EAAG,CACxC,gBAA0BJ,UAAU,CAACC,WAAW,CAAC,CAA1CI,KAAK,aAALA,KAAK,CAACC,QAAQ,aAARA,QAAQ,CACrB,cAA0CJ,QAAQ,CAAC,EAAE,CAAC,wCAA/CK,aAAa,eAAEC,gBAAgB,eACtC,eAAgCN,QAAQ,CAAC,EAAE,CAAC,yCAArCO,QAAQ,eAAEC,WAAW,eAE5B,GAAMC,SAAQ,CAAGR,WAAW,EAAE,CAE9BJ,SAAS,CAAE,UAAM,CAEf,GAAMa,OAAM,CAAG,CACbC,OAAO,CAAE,CACPC,aAAa,kBAAYT,KAAK,CAChC,CACF,CAAC,CAEDP,KAAK,CAACiB,GAAG,CAAC,mCAAmC,CAACH,MAAM,CAAC,CACpDI,IAAI,CAAC,SAACC,GAAG,CAAG,CAACT,gBAAgB,CAACS,GAAG,CAACC,IAAI,CAAC,CACtCC,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC,CAClB,CAAC,CAAC,CACDI,KAAK,CAAC,SAACC,GAAG,QAAGZ,YAAW,CAACY,GAAG,CAACC,QAAQ,CAACL,IAAI,CAAC,GAAC,CAE/C,CAAC,CAAE,EAAE,CAAC,CAIN,GAAMM,mBAAkB,CAAG,QAArBA,mBAAkB,CAAIC,CAAC,CAAG,CAC9Bd,QAAQ,0CAAmCc,CAAC,EAAG,CACjD,CAAC,CAED,GAAGlB,aAAa,CAACmB,MAAM,EAAE,CAAC,CAAC,CACzB,MACEnB,cAAa,CAACoB,GAAG,CAAC,SAACC,OAAO,CAAG,CAC3B,mBACE,kCACI,oCAAgBA,OAAO,CAACC,cAAc,OAAS,cAC/C,iCAAaD,OAAO,CAACE,WAAW,OAAU,cAC1C,oCAAgBF,OAAO,CAACG,cAAc,OAAS,cAC/C,mCAAeH,OAAO,CAACI,KAAK,OAAS,cACrC,yCAAqBJ,OAAO,CAACK,WAAW,OAAS,cACjD,eAAQ,OAAO,CAAE,yBAAIT,mBAAkB,CAACI,OAAO,CAACM,GAAG,CAAC,EAAC,gCAA4B,GAN7EN,OAAO,CAACM,GAAG,CAQf,CAGR,CAAC,CAAC,CAEN,CACA,GAAG3B,aAAa,CAACmB,MAAM,GAAG,CAAC,CAC3B,mBACE,UAAG,SAAS,CAAC,iBAAiB,UAAEjB,QAAQ,EAAK,CAEjD"},"metadata":{},"sourceType":"module"}